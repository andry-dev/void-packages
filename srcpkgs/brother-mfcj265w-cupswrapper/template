# Template file for 'brother-mfcj265w-cupswrapper'
pkgname=brother-mfcj265w-cupswrapper
version=1.1.3
revision=8
archs="i686 x86_64"
create_wrksrc=yes
depends="brother-mfcj265w-lpr cups cups-filters"
short_desc="CUPS wrapper driver for the brother MFC-J265W printer/scanner"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-or-later"
homepage="http://support.brother.com/g/b/index.aspx"
distfiles="https://download.brother.com/welcome/dlf006544/mfcj265wcupswrapper-${version}-1.i386.deb"
checksum=59b2878abc8af339a24e41dfce1b72862793b94c8cf5d7c57e3bcb157bff2c3a
nopie=yes

do_extract() {
	ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/mfcj265wcupswrapper-${version}-1.i386.deb
}

do_install() {
	mkdir -p ${DESTDIR}
	bsdtar xzpvf data.tar.gz -C ${DESTDIR}
	rm ${DESTDIR}/opt/brother/Printers/mfcj265w/cupswrapper/cupswrappermfcj265w
	vinstall ${FILESDIR}/cupswrapper.void 755 /opt/brother/Printers/mfcj265w/cupswrapper/
	vinstall ${FILESDIR}/43-mfcj265w-cups-usb.rules 644 /usr/lib/udev/rules.d/
}
